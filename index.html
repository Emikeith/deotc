<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EOTC Church Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="logo-container"><img src="logo.png" alt="Logo" onerror="this.src='https://via.placeholder.com/80?text=LOGO'"></div>
    <h1>የኢትዮጵያ ኦርቶዶክስ ተዋሕዶ ቤተክርስቲያን</h1>
    <div style="color: var(--gold); font-weight: bold;">ETHIOPIAN ORTHODOX TEWAHEDO CHURCH</div>
</header>

<div class="scroll-wrapper">
    <div class="scroll-container" id="ticker"></div>
</div>

<nav>
    <button class="menu-toggle" onclick="document.getElementById('menu').classList.toggle('show')" style="display:none;">☰ MENU</button>
    <ul class="menu-container" id="menu">
        <li class="nav-item">
            <a class="nav-link" onclick="toggleSub(this)">Home / ዋና ገጽ</a>
            <div class="dropdown">
                <a onclick="goTo('home-main')">Main Home</a>
                <a onclick="goTo('gallery')">Photo Gallery</a>
            </div>
        </li>
        <li class="nav-item">
            <a class="nav-link" onclick="toggleSub(this)">Ministries</a>
            <div class="dropdown">
                <a onclick="goTo('min-hub')">Ministry Hub</a>
                <a onclick="goTo('clergy')">Our Clergy</a>
            </div>
        </li>
        <li class="nav-item">
            <a class="nav-link" onclick="toggleSub(this)">Sunday School</a>
            <div class="dropdown">
                <a onclick="goTo('sunday-school')">Classes & Registration</a>
                <a onclick="goTo('volunteers-page')">Our Volunteers</a>
            </div>
        </li>
        <li class="nav-item"><a class="nav-link" onclick="goTo('payment-page')">Donations</a></li>
    </ul>
</nav>

<section id="home-main" class="page active">
    <div class="card" style="border-top: 6px solid var(--gold);">
        <h2 id="proj-title" style="color: var(--red); margin: 0 0 10px 0;"></h2>
        <p id="proj-desc" style="line-height: 1.6;"></p>
        
        <div class="video-wrapper">
            <iframe id="proj-video" src="" frameborder="0" allowfullscreen></iframe>
        </div>

        <div class="progress-container"><div id="proj-progress" class="progress-bar"></div></div>
        <p style="text-align:center; font-weight:bold; margin-bottom:20px;">Current Status: <span id="proj-status"></span></p>

        <div style="background: #fdfaf0; border: 2px dashed var(--gold); padding: 25px; text-align: center; border-radius: 12px;">
            <h3 style="margin-top:0; color: var(--red);">Support the Building Project</h3>
            <p>Help us build our spiritual home. Please donate to the building fund specifically.</p>
            <a id="pp-build-btn" href="#" target="_blank" class="ss-btn btn-red" style="background: #0070ba; border:none;">Donate to Building Fund</a>
            <a id="pp-gen-btn" href="#" target="_blank" class="ss-btn btn-gold">General Donation</a>
        </div>
    </div>

    <div id="notice-cards" class="grid" style="margin: 20px 0;"></div>
    
    <div class="card" style="padding:0; overflow:hidden;">
        <h3 style="text-align:center; padding:15px; margin:0; background:#f9f9f9; color:var(--red);">Church Calendar</h3>
        <iframe id="g-cal" width="100%" height="500" frameborder="0"></iframe>
    </div>
</section>

<section id="sunday-school" class="page">
    <h2 style="text-align:center; color:var(--red);">Sunday School</h2>
    <div id="ss-containers"></div>
    <div style="text-align:center;">
        <a id="child-link" href="#" target="_blank" class="ss-btn btn-red">Child Registration</a>
        <a id="vol-link" href="#" target="_blank" class="ss-btn btn-gold">Volunteer Sign-up</a>
    </div>
</section>

<section id="volunteers-page" class="page"><div id="v-list" class="grid"></div></section>
<section id="min-hub" class="page"><div id="min-grid" class="grid"></div></section>
<section id="clergy" class="page"><div id="c-list"></div></section>
<section id="gallery" class="page"><div id="gal-grid" class="grid"></div></section>
<section id="payment-page" class="page"><div class="card" style="text-align:center;"><h2>Support Us</h2><a id="pp-btn" class="ss-btn btn-red">General Donation</a><p id="z-info"></p></div></section>

<script src="content.js"></script>
<script>
    function toggleSub(el) { if(window.innerWidth <= 800) { el.parentElement.classList.toggle('open-menu'); let d = el.nextElementSibling; d.style.display = (d.style.display === "block") ? "none" : "block"; } }
    function goTo(id) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.getElementById(id).classList.add('active'); window.scrollTo(0,0); }

    function render() {
        const d = ChurchData;
        document.getElementById('ticker').innerHTML = `<div class="scroll-text">${d.announcements.scrollingText}</div>`.repeat(3);
        
        // Project Render
        document.getElementById('proj-title').innerText = d.buildingProject.title;
        document.getElementById('proj-desc').innerText = d.buildingProject.description;
        document.getElementById('proj-video').src = d.buildingProject.videoURL;
        document.getElementById('proj-status').innerText = d.buildingProject.status;
        document.getElementById('proj-progress').style.width = d.buildingProject.progress;
        document.getElementById('proj-progress').innerText = d.buildingProject.progress + " Complete";
        document.getElementById('pp-build-btn').href = d.donations.paypalBuilding;
        document.getElementById('pp-gen-btn').href = d.donations.paypalGeneral;

        // General Content
        document.getElementById('notice-cards').innerHTML = d.announcements.cards.map(c => `<div class="card" style="border-top:4px solid ${c.tagColor}"><h3>${c.title}</h3><p>${c.description}</p></div>`).join('');
        document.getElementById('ss-containers').innerHTML = d.sundaySchool.ageGroups.map(g => `<div class="ss-group-item"><div class="ss-group-text"><h3>${g.group}</h3><p>${g.focus}</p></div><div class="ss-group-image"><img src="${g.image}"></div></div>`).join('');
        document.getElementById('child-link').href = d.sundaySchool.childRegistrationURL;
        document.getElementById('vol-link').href = d.sundaySchool.volunteerRegistrationURL;
        document.getElementById('v-list').innerHTML = d.volunteers.list.map(v => `<div class="card servant-card"><img src="${v.image}" class="servant-image"><h4>${v.name}</h4><p>${v.role}</p></div>`).join('');
        document.getElementById('g-cal').src = d.googleCalendarURL;
        document.getElementById('z-info').innerText = `Zelle: ${d.donations.zelle} | Mail: ${d.donations.mailing}`;
    }
    window.onload = render;
</script>
</body>
</html>
