<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EOTC Church Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="logo-container"><img src="logo.png" alt="Logo" onerror="this.src='https://via.placeholder.com/80?text=LOGO'"></div>
    <h1 style="margin:0;">á‹¨áŠ¢á‰µá‹®áŒµá‹« áŠ¦áˆ­á‰¶á‹¶áŠ­áˆµ á‰°á‹‹áˆ•á‹¶ á‰¤á‰°áŠ­áˆ­áˆµá‰²á‹«áŠ•</h1>
    <div style="color: var(--gold); font-weight: bold;">ETHIOPIAN ORTHODOX TEWAHEDO CHURCH</div>
</header>

<div class="ticker-wrap">
  <div class="ticker-label">ğŸ“¢ áˆ›áˆµá‰³á‹ˆá‰‚á‹« (Latest)</div>
  <div class="ticker-content">
    <div class="ticker-text">
      &nbsp;&nbsp;&nbsp;&nbsp; ğŸ”” **áˆ›áˆ³áˆ°á‰¢á‹«á¡** áŠáŒˆ á‹¨áŒ¾áˆ á‰€áŠ• áˆ˜áˆ†áŠ‘áŠ• áŠ¥áŠ“áˆ³áˆµá‰£áˆˆáŠ• :: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      â›ªï¸ **á‹¨áˆ°áŠ•á‰ á‰µ á‰µáˆáˆ…áˆ­á‰µ á‰¤á‰µ áˆá‹áŒˆá‰£** á‰°áŒ€áˆáˆ¯áˆ :: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      ğŸ™ **áŒ¸áˆá‰° áˆ›áŠ…áˆŒá‰µ** á‰  5á¡00 AM á‹­áŒ€áˆáˆ«áˆ :: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ğŸŒŸ **áˆá‹© áŒ‰á‰£áŠ¤á¡** áŠ¥áˆá‹µ áŠ¨áˆ°á‹“á‰µ á‰ á‰³áˆ‹á‰ áŠ á‹³áˆ«áˆ½ á‹­áŠ«áˆ„á‹³áˆ ::
    </div>
  </div>
</div>

<nav>
    <button class="menu-toggle" onclick="document.getElementById('menu').classList.toggle('show')" style="display:none; width:100%; padding:15px; background:white; border:none; color:var(--red); font-weight:bold; text-align:left;">â˜° MENU</button>
    <ul class="menu-container" id="menu">
        <li class="nav-item">
            <a class="nav-link" onclick="toggleSub(this)">Home / á‹‹áŠ“ áŒˆáŒ½</a>
            <div class="dropdown">
                <a onclick="goTo('home-main')">Main Home & Calendar</a>
                <a onclick="goTo('sunday-school')">Sunday School</a>
            </div>
        </li>
        <li class="nav-item">
            <a class="nav-link" onclick="toggleSub(this)">Ministries</a>
            <div class="dropdown">
                <a onclick="goTo('building-page')">Building Project</a>
                <a onclick="goTo('volunteers-page')">Our Volunteers</a>
            </div>
        </li>
        <li class="nav-item"><a class="nav-link" onclick="goTo('payment-page')">Donations</a></li>
    </ul>
</nav>

<section id="home-main" class="page active">
    <div class="card" style="padding: 10px 12px; display: flex; align-items: center; justify-content: center; gap: 15px; border: 2px solid var(--gold);">
        <div style="display: flex; align-items: center; gap: 6px; white-space: nowrap;">
            <span id="g-day" style="font-size: 0.9rem; color: #1a73e8; font-weight: bold;">-</span>
            <span id="g-date" style="font-size: 0.9rem; color: #444; font-weight: 500;">-</span>
        </div>
        <div style="width: 2px; background-color: #D4AF37; height: 22px;"></div>
        <div style="display: flex; align-items: center; gap: 6px; white-space: nowrap;">
            <span style="font-size: 0.9rem; color: #333; font-weight: bold;">á‹›áˆ¬ á‰€áŠ‘á¡</span>
            <span id="e-am" style="font-size: 1.1rem; color: #d93025; font-weight: bold;">-</span>
            <span id="e-en" style="font-size: 0.9rem; color: #d93025; font-weight: 500;">-</span>
            <span id="e-yr" style="font-size: 0.85rem; color: #777;">-</span>
        </div>
    </div>

    <div style="width: 100%; height: 620px; overflow: hidden; border: 1px solid #e0e0e0; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); background: #fff;">
        <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=America%2FWinnipeg&showPrint=0&src=N2U5NjhkZjM3YmZjZWZkODhmNjUwNzlkZjA1Y2Y2NzQxNjI1YTM2ZDJjMzlkMTg0NDJjZTEzNTZlMWY0NmEzYkBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&src=OTc1ZTc4Y2M3NzgzMTE4MWEzNzhhMzM0ZWMzOGMzNWM3YjBhNDQ4Y2YyNjRjZmQwYTJmZGEzMjE2NzZhN2Q0M0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&src=ZWY3MDZlMmFiMTNlOTA3MGU2MDE0YjUxZjI0NjNjNDkxYjI3MzNmYmExZTJmNjdjZjU3MDYzOTYwNWM2NGY5M0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&src=NDcwMmE0YmM3MGQ4MjQyNzEzNzZkZWJmZDE4MDc5NTZkZjFhZGE1MjE4Y2ExNWZjOWQzMmJjYzg4Y2JkMmJkM0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&src=MTA5ZmU1NWE5OTM0MzRhNWU1ZTY5YjZiZjFiZmEyYzQyOWNiY2JmYmRiYjA5MzY4ZDEyNWZkOWE5NmUzM2Q4MkBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%238b0000&color=%23ffcd00&color=%23039be5&color=%23e4c441&color=%2333b679" 
                style="border: 0;" width="100%" height="690" frameborder="0" scrolling="no"></iframe>
    </div>

    <div style="display: flex; justify-content: center; gap: 15px; margin: 15px 0; flex-wrap: wrap; font-size: 0.8rem; color: #555;">
        <div style="display: flex; align-items: center; gap: 5px;"><div style="width: 12px; height: 12px; background: #D4AF37; border-radius: 3px;"></div> Feasts</div>
        <div style="width: 12px; height: 12px; background: #8B0000; border-radius: 3px;"></div> Fasting
        <div style="width: 12px; height: 12px; background: #0E4D92; border-radius: 3px;"></div> St. Mary
    </div>

    <div id="notice-cards" class="grid"></div>
</section>

<section id="building-page" class="page">
    <div class="card">
        <h2 id="proj-title" style="color:var(--red);"></h2>
        <p id="proj-desc"></p>
        <div class="video-wrapper"><iframe id="proj-video" src="" frameborder="0" allowfullscreen></iframe></div>
        <div class="progress-bg"><div id="proj-progress" class="progress-fill"></div></div>
        <p style="text-align:center; font-weight:bold;">Status: <span id="proj-status"></span></p>

        <div style="background: #fdfaf0; border: 2px dashed var(--gold); padding: 25px; text-align: center; border-radius: 12px; margin-top:20px;">
            <h3>Help Us Build / á‹¨áˆ•áŠ•áƒ áŒáŠ•á‰£á‰³á‹áŠ• á‹­á‹°áŒá‰</h3>
            <a id="pp-build-btn" href="#" target="_blank" class="btn btn-red" style="background:#0070ba; border:none;">Donate to Building Fund</a>
        </div>
    </div>
</section>

<section id="sunday-school" class="page">
    <div class="card">
        <h2 style="text-align:center; color:var(--red);">Sunday School Program</h2>
        <div id="ss-list"></div>
        <div style="text-align:center; margin-top:20px;">
            <a id="child-reg" href="#" target="_blank" class="btn btn-red">Register Child</a>
        </div>
    </div>
</section>

<section id="volunteers-page" class="page">
    <h2 style="text-align:center; color:var(--red);">Our Volunteers</h2>
    <div id="v-list" class="grid"></div>
</section>

<section id="payment-page" class="page">
    <div class="card" style="text-align:center;">
        <h2>Donations / áˆ˜á‰£áŠ“ áˆµáŒ¦á‰³</h2>
        <a id="pp-gen-btn" href="#" target="_blank" class="btn btn-red">General Donation</a>
        <p id="z-info" style="font-weight:bold; margin-top:20px;"></p>
    </div>
</section>

<script src="content.js"></script>
<script>
    function toggleSub(el) { if(window.innerWidth <= 800) { el.parentElement.classList.toggle('open-menu'); let d = el.nextElementSibling; d.style.display = (d.style.display === "block") ? "none" : "block"; } }
    function goTo(id) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.getElementById(id).classList.add('active'); window.scrollTo(0,0); }

    function updateDualCalendar() {
        const now = new Date();
        const daysEn = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
        const gMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        document.getElementById('g-day').innerText = daysEn[now.getDay()];
        document.getElementById('g-date').innerText = gMonths[now.getMonth()] + " " + now.getDate() + ", " + now.getFullYear();

        const amMonths = ["áˆ˜áˆµáŠ¨áˆ¨áˆ", "áŒ¥á‰…áˆá‰µ", "áŠ…á‹³áˆ­", "á‰³áŠ…áˆ£áˆ¥", "áŒ¥áˆ­", "á‹¨áŠ«á‰²á‰µ", "áˆ˜áŒ‹á‰¢á‰µ", "áˆšá‹«á‹á‹«", "áŒáŠ•á‰¦á‰µ", "áˆ°áŠ”", "áˆáˆáˆŒ", "áŠáˆáˆ´", "áŒ³áŒ‰áˆœ"];
        const enMonths = ["Mesk", "Tik", "Hid", "Tah", "Tir", "Yek", "Meg", "Mia", "Gen", "Sene", "Ham", "Neh", "Pag"];
        const refDate = new Date(2025, 8, 11);
        const diff = Math.floor((now - refDate) / 86400000);
        let year = 2018; let dCount = diff;
        if (dCount < 0) { year = 2017; dCount = 365 + dCount; }
        let mIdx = Math.floor(dCount / 30); let day = (dCount % 30) + 1;
        if (mIdx >= 12) { mIdx = 12; day = (dCount - 360) + 1; }
        document.getElementById('e-am').innerText = amMonths[mIdx] + " " + day;
        document.getElementById('e-en').innerText = enMonths[mIdx] + " " + day;
        document.getElementById('e-yr').innerText = year;
    }

    function render() {
        const d = ChurchData;
        updateDualCalendar();

        // Building Project
        document.getElementById('proj-title').innerText = d.buildingProject.title;
        document.getElementById('proj-desc').innerText = d.buildingProject.description;
        document.getElementById('proj-video').src = d.buildingProject.videoURL;
        document.getElementById('proj-status').innerText = d.buildingProject.status;
        document.getElementById('proj-progress').style.width = d.buildingProject.progress;
        document.getElementById('proj-progress').innerText = d.buildingProject.progress + " Complete";
        document.getElementById('pp-build-btn').href = d.donations.paypalBuilding;

        // Announcements & Others
        document.getElementById('notice-cards').innerHTML = d.announcements.cards.map(c => `<div class="card" style="border-top:4px solid ${c.tagColor}"><h4>${c.title}</h4><p>${c.description}</p></div>`).join('');
        document.getElementById('ss-list').innerHTML = d.sundaySchool.ageGroups.map(g => `<div class="card" style="display:flex; align-items:center; gap:20px; flex-wrap:wrap;"><div><h3>${g.group}</h3><p>${g.focus}</p></div><img src="${g.image}" style="width:200px; border-radius:8px;"></div>`).join('');
        document.getElementById('child-reg').href = d.sundaySchool.childRegistrationURL;
        document.getElementById('v-list').innerHTML = d.volunteers.list.map(v => `<div class="card" style="text-align:center;"><img src="${v.image}" style="width:100px; height:100px; border-radius:50%; object-fit:cover; border:2px solid var(--gold);"><br><b>${v.name}</b><p>${v.role}</p></div>`).join('');
        document.getElementById('pp-gen-btn').href = d.donations.paypalGeneral;
        document.getElementById('z-info').innerText = `Zelle: ${d.donations.zelle} | Mailing: ${d.donations.mailing}`;
    }
    window.onload = render;
</script>
</body>
</html>
